# ğŸŒ é™æ€éƒ¨ç½²è§„èŒƒå’Œè®¿é—®åœ°å€ç®¡ç†è§„åˆ™

## ğŸ“‹ **å½“å‰é—®é¢˜åˆ†æ**

### ğŸ”´ **å‘ç°çš„ä¸»è¦é—®é¢˜**
1. **é‡å¤æ„å»ºäº§ç‰©**: distç›®å½•å­˜åœ¨68ä¸ªJSæ–‡ä»¶ï¼Œçº¦50%æ˜¯é‡å¤çš„ä¸åŒç‰ˆæœ¬
2. **ç›®å½•ç»“æ„æ··ä¹±**: publicç›®å½•é”™è¯¯åŒ…å«æ„å»ºäº§ç‰©ï¼ˆjs/ã€assets/ç›®å½•ï¼‰
3. **ç‰ˆæœ¬ä¸ä¸€è‡´**: å¤šä¸ªindex.htmlæ–‡ä»¶å¼•ç”¨ä¸åŒç‰ˆæœ¬çš„èµ„æº
4. **è®¿é—®è·¯å¾„ä¸æ˜ç¡®**: ç¼ºä¹ç»Ÿä¸€çš„è®¿é—®åœ°å€ç®¡ç†æœºåˆ¶

### ğŸ§© **é—®é¢˜æ ¹å› **
- **æ„å»ºæ¸…ç†ç¼ºå¤±**: vite.config.jsç¼ºå°‘ `emptyOutDir: true` é…ç½®
- **å¤šæ¬¡æ„å»ºç´¯ç§¯**: æ¯æ¬¡æ„å»ºç”Ÿæˆæ–°å“ˆå¸Œä½†æ—§æ–‡ä»¶æœªæ¸…ç†
- **è·¯å¾„é…ç½®å¤æ‚**: cloudPathå’Œbaseè·¯å¾„é…ç½®å¯¼è‡´è®¿é—®æ··æ·†

## âš¡ **ç«‹å³æ‰§è¡Œçš„ä¿®å¤æ–¹æ¡ˆ**

### 1ï¸âƒ£ **æ¸…ç†é‡å¤æ–‡ä»¶**
```bash
# ç«‹å³æ‰§è¡Œæ¸…ç†
rm -rf dist/
rm -rf public/js/ public/assets/ public/index.html
npm run build
```

### 2ï¸âƒ£ **æ›´æ–°æ„å»ºé…ç½®**
æ›´æ–° `vite.config.js`ï¼š
```javascript
export default defineConfig({
  // ... å…¶ä»–é…ç½®
  build: {
    outDir: 'dist',
    emptyOutDir: true, // ğŸ”¥ æ·»åŠ è¿™è¡Œï¼šæ„å»ºå‰è‡ªåŠ¨æ¸…ç©ºè¾“å‡ºç›®å½•
    assetsDir: 'assets',
    // ... å…¶ä»–é…ç½®ä¿æŒä¸å˜
  }
})
```

### 3ï¸âƒ£ **è§„èŒƒåŒ–æ„å»ºè„šæœ¬**
æ›´æ–° `package.json` scripts:
```json
{
  "scripts": {
    "clean": "rm -rf dist/",
    "build": "npm run clean && vite build",
    "build:fresh": "npm run clean && npm run build",
    "preview": "npm run build && vite preview",
    "deploy": "npm run build:fresh && npm run cloudbase:deploy"
  }
}
```

## ğŸ— **é™æ€éƒ¨ç½²æ ‡å‡†è§„èŒƒ**

### ğŸ“ **ç›®å½•ç»“æ„è§„èŒƒ**
```
lexicon-webapp/
â”œâ”€â”€ public/                    # é™æ€èµ„æºï¼ˆä¸å‚ä¸æ„å»ºï¼‰
â”‚   â”œâ”€â”€ vite.svg              # å›¾æ ‡
â”‚   â”œâ”€â”€ audioProcessor.js     # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ fonts/                # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ dist/                     # æ„å»ºäº§ç‰©ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ index.html            # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ assets/               # CSSå’Œå…¶ä»–èµ„æº
â”‚   â”œâ”€â”€ js/                   # JavaScriptæ–‡ä»¶
â”‚   â””â”€â”€ fonts/                # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ src/                      # æºä»£ç 
â””â”€â”€ cloudbaserc.json         # éƒ¨ç½²é…ç½®
```

### ğŸš« **ç¦æ­¢äº‹é¡¹**
- âŒ **ç¦æ­¢**åœ¨ `public/` ç›®å½•æ”¾ç½®æ„å»ºäº§ç‰©
- âŒ **ç¦æ­¢**æ‰‹åŠ¨ä¿®æ”¹ `dist/` ç›®å½•å†…å®¹
- âŒ **ç¦æ­¢**åœ¨ä¸æ¸…ç†çš„æƒ…å†µä¸‹é‡å¤æ„å»º
- âŒ **ç¦æ­¢**ç¡¬ç¼–ç è®¿é—®è·¯å¾„

## ğŸ¯ **è®¿é—®åœ°å€ç®¡ç†è§„åˆ™**

### ğŸ”— **æ ‡å‡†è®¿é—®åœ°å€æ ¼å¼**
```
åŸºç¡€åŸŸå + é¡¹ç›®è·¯å¾„ + é¡µé¢è·¯ç”±
https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/[#/route]
```

### ğŸ“‹ **åœ°å€ç»„æˆè§„åˆ™**
```javascript
// åœ°å€æ„æˆå…¬å¼
const ACCESS_URL = {
  BASE_DOMAIN: 'https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com',
  PROJECT_PATH: '/lexicon-webapp',     // æ¥è‡ª cloudbaserc.json çš„ cloudPath
  ROUTE_HASH: '#/',                    // React Router hashæ¨¡å¼
  CACHE_BUSTER: '?t=' + Date.now()     // ç¼“å­˜åˆ·æ–°å‚æ•°ï¼ˆå¯é€‰ï¼‰
}

// å®Œæ•´è®¿é—®åœ°å€
const FULL_URL = `${BASE_DOMAIN}${PROJECT_PATH}/${ROUTE_HASH}${CACHE_BUSTER}`
```

### ğŸŒ **æ ‡å‡†è®¿é—®åœ°å€**
| é¡µé¢ | è®¿é—®åœ°å€ |
|------|----------|
| **é¦–é¡µ** | `https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/` |
| **è¯ä¹¦é¡µ** | `https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/#/wordbooks` |
| **å­¦ä¹ é¡µ** | `https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/#/study` |
| **è¯­éŸ³åŠ©æ‰‹** | `https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/#/voice-assistant` |

### ğŸ”„ **ç¼“å­˜åˆ·æ–°åœ°å€**
å½“éœ€è¦åˆ·æ–°CDNç¼“å­˜æ—¶ä½¿ç”¨ï¼š
```
https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/?t=TIMESTAMP
```

## ğŸ›  **éƒ¨ç½²æµç¨‹æ ‡å‡†åŒ–**

### ğŸ“ **æ ‡å‡†éƒ¨ç½²æµç¨‹**
```bash
# 1. æ¸…ç†ç¯å¢ƒ
npm run clean

# 2. å®‰è£…ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
npm ci

# 3. æ¸…æ´æ„å»º
npm run build:fresh

# 4. éªŒè¯æ„å»ºäº§ç‰©
ls -la dist/
du -sh dist/

# 5. éƒ¨ç½²åˆ°CloudBase
cloudbase hosting deploy dist -e cloud1-7g7oatv381500c81

# 6. éªŒè¯éƒ¨ç½²
curl -I "https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/"
```

### ğŸ” **éƒ¨ç½²éªŒè¯æ¸…å•**
- [ ] **distç›®å½•å¹²å‡€**: æ— é‡å¤æ–‡ä»¶ï¼Œåªæœ‰æœ€æ–°æ„å»ºäº§ç‰©
- [ ] **èµ„æºå¼•ç”¨æ­£ç¡®**: index.htmlå¼•ç”¨çš„JS/CSSæ–‡ä»¶å­˜åœ¨äºdistä¸­
- [ ] **è·¯å¾„é…ç½®ä¸€è‡´**: vite.config.jsçš„baseä¸cloudbaserc.jsonçš„cloudPathåŒ¹é…
- [ ] **è®¿é—®æµ‹è¯•é€šè¿‡**: ä¸»è¦é¡µé¢èƒ½æ­£å¸¸è®¿é—®
- [ ] **åŠŸèƒ½æµ‹è¯•é€šè¿‡**: CloudBaseè¿æ¥å’ŒAPIè°ƒç”¨æ­£å¸¸

## ğŸ“Š **ç›‘æ§å’Œç»´æŠ¤**

### ğŸ”„ **å®šæœŸæ£€æŸ¥é¡¹ç›®**
```bash
# æ£€æŸ¥é‡å¤æ–‡ä»¶
find dist/ -name "*.js" | sort | uniq -d

# æ£€æŸ¥æ„å»ºäº§ç‰©å¤§å°
du -sh dist/ && find dist/ -type f | wc -l

# æ£€æŸ¥è®¿é—®çŠ¶æ€
curl -s -o /dev/null -w "%{http_code}" "https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/"
```

### ğŸ“ **è®¿é—®åœ°å€æ–‡æ¡£åŒ–**
åˆ›å»º `è®¿é—®åœ°å€.md` æ–‡ä»¶ï¼š
```markdown
# Lexicon è‹±è¯­å­¦ä¹ å¹³å° - è®¿é—®åœ°å€

## ğŸŒ æ­£å¼ç¯å¢ƒ
- **ä¸»é¡µ**: https://cloud1-7g7oatv381500c81-1367168150.tcloudbaseapp.com/lexicon-webapp/
- **ç¯å¢ƒID**: cloud1-7g7oatv381500c81
- **éƒ¨ç½²è·¯å¾„**: /lexicon-webapp
- **æœ€åæ›´æ–°**: 2025-07-22

## ğŸ”§ æ•…éšœæ’æŸ¥
å¦‚æœæ— æ³•è®¿é—®ï¼Œè¯·å°è¯•ï¼š
1. ç¼“å­˜åˆ·æ–°åœ°å€: æ·»åŠ  `?t=` + å½“å‰æ—¶é—´æˆ³
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
3. æ£€æŸ¥ç½‘ç»œè¿æ¥
```

## ğŸ¯ **æœ€ä½³å®è·µæ€»ç»“**

### âœ… **å¿…é¡»éµå®ˆ**
1. **æ„å»ºå‰æ¸…ç†**: æ¯æ¬¡æ„å»ºå‰æ¸…ç©ºdistç›®å½•
2. **å•ä¸€çœŸç†æº**: åªåœ¨distç›®å½•ç»´æŠ¤æ„å»ºäº§ç‰©
3. **ç‰ˆæœ¬ä¸€è‡´æ€§**: ç¡®ä¿HTMLå¼•ç”¨çš„èµ„æºæ–‡ä»¶å®é™…å­˜åœ¨
4. **è·¯å¾„ç›¸å¯¹åŒ–**: ä½¿ç”¨ç›¸å¯¹è·¯å¾„é¿å…ç¯å¢ƒä¾èµ–
5. **è®¿é—®åœ°å€æ–‡æ¡£åŒ–**: ç»´æŠ¤æ¸…æ™°çš„è®¿é—®åœ°å€æ–‡æ¡£

### ğŸš€ **ä¼˜åŒ–å»ºè®®**
1. **è‡ªåŠ¨åŒ–éƒ¨ç½²**: è®¾ç½®CI/CDæµæ°´çº¿
2. **æ€§èƒ½ç›‘æ§**: å®šæœŸæ£€æŸ¥åŠ è½½é€Ÿåº¦å’Œèµ„æºå¤§å°
3. **å¤‡ä»½æœºåˆ¶**: ä¿ç•™å…³é”®ç‰ˆæœ¬çš„æ„å»ºäº§ç‰©
4. **å¥åº·æ£€æŸ¥**: å®šæœŸéªŒè¯è®¿é—®åœ°å€å¯ç”¨æ€§

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-07-22  
**ç»´æŠ¤è€…**: Lexicon WebApp Team  
**é€‚ç”¨é¡¹ç›®**: lexicon-webapp é™æ€éƒ¨ç½²